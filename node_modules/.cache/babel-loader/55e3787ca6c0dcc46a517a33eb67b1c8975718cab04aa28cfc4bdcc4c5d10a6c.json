{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useEffect, useState } from 'react';\nimport { Button, useCtx } from '..';\nimport s from './styles.module.css.json';\nvar baseUrl = 'https://github.com/datocms/plugins-sdk/blob/master/packages/sdk/src/types.ts';\nfunction copyTextToClipboard(text) {\n  var textArea = document.createElement('textarea');\n  textArea.style.position = 'fixed';\n  textArea.style.top = '0';\n  textArea.style.left = '0';\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n  textArea.style.padding = '0';\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n  try {\n    document.execCommand('copy');\n  } catch (err) {\n    // NOP\n  }\n  document.body.removeChild(textArea);\n}\nfunction addFinalPeriod(text) {\n  if (['!', '.'].includes(text[text.length - 1])) {\n    return text;\n  }\n  return \"\".concat(text, \".\");\n}\nfunction findChildrenById(manifest, id) {\n  return manifest.children.find(function (child) {\n    return child.id === id;\n  });\n}\nfunction findShortText(signature) {\n  return signature.comment && addFinalPeriod(signature.comment.summary.map(function (chunk) {\n    return chunk.text;\n  }).join('')) || null;\n}\nfunction findFirstTag(signature, tagName) {\n  if (!signature.comment || !signature.comment.blockTags) {\n    return null;\n  }\n  var tagNode = signature.comment.blockTags.find(function (tag) {\n    return tag.tag === tagName;\n  });\n  if (!tagNode) {\n    return null;\n  }\n  return tagNode.content.map(function (chunk) {\n    return chunk.text;\n  }).join('');\n}\nfunction findExample(signature) {\n  var _a;\n  var example = findFirstTag(signature, '@example');\n  if (!example) {\n    return null;\n  }\n  var lines = example.split(/\\n/).filter(function (l, i, all) {\n    return l.length !== 0 || i !== 0 && i !== all.length - 1;\n  });\n  var spacesPerLine = lines.map(function (line) {\n    var spaces = line.match(/^\\s*/);\n    return spaces ? spaces[0].length : 0;\n  });\n  var commonIndentation = Math.min.apply(Math, spacesPerLine);\n  var result = lines.map(function (line) {\n    return line.substring(commonIndentation);\n  }).join('\\n');\n  return (_a = result.match(/```[a-z]*\\n([\\s\\S]*?)\\n```/)) === null || _a === void 0 ? void 0 : _a[1].trim();\n}\nfunction buildCtx(manifest, definition) {\n  if (definition.type.type === 'intersection') {\n    var result = [];\n    for (var _i = 0, _a = definition.type.types; _i < _a.length; _i++) {\n      var elementInIntersection = _a[_i];\n      if (elementInIntersection.type === 'reference') {\n        var innerDefinition = findChildrenById(manifest, elementInIntersection.id);\n        result = __spreadArray(__spreadArray([], result, true), [buildCtx(manifest, innerDefinition)], false);\n      }\n    }\n    return result.flat().filter(function (x) {\n      return x;\n    });\n  }\n  if (definition.type.type === 'reflection') {\n    var properties = definition.type.declaration.children.filter(function (child) {\n      return !['mode', 'getSettings', 'setHeight', 'bodyPadding'].includes(child.name);\n    });\n    if (properties.length === 0) {\n      return null;\n    }\n    return {\n      name: definition.name,\n      description: findShortText(definition),\n      properties: properties.map(function (child) {\n        var _a, _b;\n        if ((_b = (_a = child.type) === null || _a === void 0 ? void 0 : _a.declaration) === null || _b === void 0 ? void 0 : _b.signatures) {\n          child.signatures = child.type.declaration.signatures;\n        }\n        if (child.signatures) {\n          var signature = child.signatures[0];\n          return {\n            name: child.name,\n            type: 'function',\n            description: findShortText(signature),\n            example: findExample(signature),\n            group: definition.name,\n            lineNumber: child.sources[0].line\n          };\n        }\n        return {\n          name: child.name,\n          type: 'property',\n          description: findShortText(child),\n          example: findExample(child),\n          groupDescription: findShortText(definition),\n          group: definition.name,\n          lineNumber: child.sources[0].line\n        };\n      })\n    };\n  }\n  if (definition.type.type === 'reference') {\n    var innerDefinition = findChildrenById(manifest, definition.type.id);\n    return buildCtx(manifest, innerDefinition);\n  }\n  throw new Error(\"Don\\t know how to handle \".concat(definition));\n}\nvar ExpandablePane = function (_a) {\n  var children = _a.children,\n    label = _a.label;\n  var _b = useState(false),\n    open = _b[0],\n    setOpen = _b[1];\n  return React.createElement(\"div\", {\n    className: s.panel\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: s.panelHandle,\n    onClick: function () {\n      return setOpen(function (open) {\n        return !open;\n      });\n    }\n  }, label), open && React.createElement(\"div\", {\n    className: s.panelBody\n  }, children));\n};\nexport function ContextInspector() {\n  var _this = this;\n  var ctx = useCtx();\n  var _a = useState(null),\n    groups = _a[0],\n    setGroups = _a[1];\n  useEffect(function () {\n    var runner = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var response, manifest, connectParameters, hook, signature, ctxParameter;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4 /*yield*/, fetch('https://unpkg.com/datocms-plugin-sdk/types.json')];\n            case 1:\n              response = _a.sent();\n              return [4 /*yield*/, response.json()];\n            case 2:\n              manifest = _a.sent();\n              connectParameters = manifest.children.find(function (child) {\n                return child.name === 'FullConnectParameters';\n              });\n              hook = connectParameters.type.declaration.children.find(function (hook) {\n                return hook.name === ctx.mode;\n              });\n              signature = hook.signatures ? hook.signatures[0] : hook.type.declaration.signatures[0];\n              ctxParameter = signature.parameters.find(function (p) {\n                return p.name === 'ctx';\n              });\n              setGroups(buildCtx(manifest, findChildrenById(manifest, ctxParameter.type.id)));\n              return [2 /*return*/];\n          }\n        });\n      });\n    };\n    runner();\n  }, [setGroups]);\n  var handleCopy = function (text) {\n    copyTextToClipboard(text);\n    ctx.notice('Copied to clipboard!');\n  };\n  var handleRun = function (example) {\n    Function(\"\\n        \\\"use strict\\\";\\n        return(\\n          async function(ctx) {\\n            try {\\n              \".concat(example, \"\\n            } catch(e) {\\n              console.error(e);\\n              await ctx.alert('Execution failed! See console for errors!');\\n            }\\n          }\\n        )\\n      \"))()(ctx);\n  };\n  return React.createElement(\"div\", {\n    className: s.inspector\n  }, groups === null || groups === void 0 ? void 0 : groups.map(function (group) {\n    var name = group.name.replace('AdditionalMethods', 'Methods').replace('AdditionalProperties', 'Properties').replace('Methods', ' methods').replace('Properties', ' properties').replace('Utilities', ' utilities');\n    return React.createElement(ExpandablePane, {\n      label: \"\".concat(name),\n      key: name\n    }, React.createElement(\"div\", {\n      className: s.groupDescription\n    }, group.description), React.createElement(\"div\", {\n      className: s.propertyGroup\n    }, (group.properties || []).map(function (item) {\n      return React.createElement(\"div\", {\n        key: item.name,\n        className: s.propertyOrMethod\n      }, React.createElement(\"div\", {\n        className: s.propertyOrMethodBody\n      }, React.createElement(\"a\", {\n        className: s.propertyOrMethodName,\n        href: \"\".concat(baseUrl, \"#L\").concat(item.lineNumber),\n        target: \"_blank\",\n        rel: \"noreferrer\"\n      }, item.name, item.type === 'function' ? '()' : ''), React.createElement(\"div\", null, item.description)), item.type === 'property' && React.createElement(\"div\", {\n        className: s.propertyOrMethodExample\n      }, React.createElement(\"pre\", null, JSON.stringify(ctx[item.name], null, 2)), React.createElement(\"div\", {\n        className: s.propertyOrMethodExampleActions\n      }, React.createElement(Button, {\n        type: \"button\",\n        buttonSize: \"xxs\",\n        onClick: handleCopy.bind(null, JSON.stringify(ctx[item.name], null, 2))\n      }, \"Copy value\"))), item.example && React.createElement(\"div\", {\n        className: s.propertyOrMethodExample\n      }, React.createElement(\"pre\", null, item.example), React.createElement(\"div\", {\n        className: s.propertyOrMethodExampleActions\n      }, React.createElement(Button, {\n        type: \"button\",\n        buttonSize: \"xxs\",\n        buttonType: \"primary\",\n        onClick: handleRun.bind(null, item.example)\n      }, \"Run example\"), React.createElement(Button, {\n        type: \"button\",\n        buttonSize: \"xxs\",\n        onClick: handleCopy.bind(null, item.example)\n      }, \"Copy example\"))));\n    })));\n  }));\n}","map":{"version":3,"names":["React","useEffect","useState","Button","useCtx","s","baseUrl","copyTextToClipboard","text","textArea","document","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","value","body","appendChild","focus","select","execCommand","err","removeChild","addFinalPeriod","includes","length","concat","findChildrenById","manifest","id","children","find","child","findShortText","signature","comment","summary","map","chunk","join","findFirstTag","tagName","blockTags","tagNode","tag","content","findExample","example","lines","split","filter","l","i","all","spacesPerLine","line","spaces","match","commonIndentation","Math","min","apply","result","substring","_a","trim","buildCtx","definition","type","_i","types","elementInIntersection","innerDefinition","__spreadArray","flat","x","properties","declaration","name","description","_b","signatures","group","lineNumber","sources","groupDescription","Error","ExpandablePane","label","open","setOpen","className","panel","panelHandle","onClick","panelBody","ContextInspector","_this","ctx","groups","setGroups","runner","__awaiter","fetch","response","sent","json","connectParameters","hook","mode","ctxParameter","parameters","p","handleCopy","notice","handleRun","Function","inspector","replace","key","propertyGroup","item","propertyOrMethod","propertyOrMethodBody","propertyOrMethodName","href","target","rel","propertyOrMethodExample","JSON","stringify","propertyOrMethodExampleActions","buttonSize","bind","buttonType"],"sources":["/Users/fabienpicard/Projects/astro-website/node_modules/datocms-react-ui/src/ContextInspector/index.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useEffect, useState } from 'react';\nimport { Button, useCtx } from '..';\nimport s from './styles.module.css.json';\n\nconst baseUrl =\n  'https://github.com/datocms/plugins-sdk/blob/master/packages/sdk/src/types.ts';\n\nfunction copyTextToClipboard(text: string) {\n  const textArea = document.createElement('textarea');\n  textArea.style.position = 'fixed';\n  textArea.style.top = '0';\n  textArea.style.left = '0';\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n  textArea.style.padding = '0';\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    document.execCommand('copy');\n  } catch (err) {\n    // NOP\n  }\n\n  document.body.removeChild(textArea);\n}\n\nfunction addFinalPeriod(text: string) {\n  if (['!', '.'].includes(text[text.length - 1])) {\n    return text;\n  }\n\n  return `${text}.`;\n}\n\nfunction findChildrenById(manifest: any, id: string) {\n  return manifest.children.find((child: any) => child.id === id);\n}\n\nfunction findShortText(signature: any) {\n  return (\n    (signature.comment &&\n      addFinalPeriod(\n        signature.comment.summary.map((chunk: any) => chunk.text).join(''),\n      )) ||\n    null\n  );\n}\n\nfunction findFirstTag(signature: any, tagName: string): string | null {\n  if (!signature.comment || !signature.comment.blockTags) {\n    return null;\n  }\n\n  const tagNode = signature.comment.blockTags.find(\n    (tag: any) => tag.tag === tagName,\n  );\n\n  if (!tagNode) {\n    return null;\n  }\n\n  return tagNode.content.map((chunk: any) => chunk.text).join('');\n}\n\nfunction findExample(signature: any) {\n  const example = findFirstTag(signature, '@example');\n\n  if (!example) {\n    return null;\n  }\n\n  const lines = example\n    .split(/\\n/)\n    .filter((l, i, all) => l.length !== 0 || (i !== 0 && i !== all.length - 1));\n\n  const spacesPerLine = lines.map((line) => {\n    const spaces = line.match(/^\\s*/);\n    return spaces ? spaces[0].length : 0;\n  });\n\n  const commonIndentation = Math.min(...spacesPerLine);\n\n  const result = lines\n    .map((line) => line.substring(commonIndentation))\n    .join('\\n');\n\n  return result.match(/```[a-z]*\\n([\\s\\S]*?)\\n```/)?.[1].trim();\n}\n\nfunction buildCtx(manifest: any, definition: any): any {\n  if (definition.type.type === 'intersection') {\n    let result: any[] = [];\n\n    for (const elementInIntersection of definition.type.types) {\n      if (elementInIntersection.type === 'reference') {\n        const innerDefinition = findChildrenById(\n          manifest,\n          elementInIntersection.id,\n        );\n        result = [...result, buildCtx(manifest, innerDefinition)];\n      }\n    }\n\n    return result.flat().filter((x) => x);\n  }\n\n  if (definition.type.type === 'reflection') {\n    const properties = definition.type.declaration.children.filter(\n      (child: any) =>\n        !['mode', 'getSettings', 'setHeight', 'bodyPadding'].includes(\n          child.name,\n        ),\n    );\n\n    if (properties.length === 0) {\n      return null;\n    }\n\n    return {\n      name: definition.name,\n      description: findShortText(definition),\n      properties: properties.map((child: any) => {\n        if (child.type?.declaration?.signatures) {\n          child.signatures = child.type.declaration.signatures;\n        }\n\n        if (child.signatures) {\n          const signature = child.signatures[0];\n          return {\n            name: child.name,\n            type: 'function',\n            description: findShortText(signature),\n            example: findExample(signature),\n            group: definition.name,\n            lineNumber: child.sources[0].line,\n          };\n        }\n\n        return {\n          name: child.name,\n          type: 'property',\n          description: findShortText(child),\n          example: findExample(child),\n          groupDescription: findShortText(definition),\n          group: definition.name,\n          lineNumber: child.sources[0].line,\n        };\n      }),\n    };\n  }\n\n  if (definition.type.type === 'reference') {\n    const innerDefinition = findChildrenById(manifest, definition.type.id);\n\n    return buildCtx(manifest, innerDefinition);\n  }\n\n  throw new Error(`Don\\t know how to handle ${definition}`);\n}\n\nconst ExpandablePane = ({ children, label }: any) => {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <div className={s.panel}>\n      <button\n        type=\"button\"\n        className={s.panelHandle}\n        onClick={() => setOpen((open) => !open)}\n      >\n        {label}\n      </button>\n      {open && <div className={s.panelBody}>{children}</div>}\n    </div>\n  );\n};\n\nexport function ContextInspector(): JSX.Element {\n  const ctx = useCtx();\n  const [groups, setGroups] = useState<any[] | null>(null);\n\n  useEffect(() => {\n    const runner = async () => {\n      const response = await fetch(\n        'https://unpkg.com/datocms-plugin-sdk/types.json',\n      );\n      const manifest = await response.json();\n\n      const connectParameters = manifest.children.find(\n        (child: any) => child.name === 'FullConnectParameters',\n      );\n\n      const hook = connectParameters.type.declaration.children.find(\n        (hook: any) => hook.name === (ctx as any).mode,\n      );\n\n      const signature = hook.signatures\n        ? hook.signatures[0]\n        : hook.type.declaration.signatures[0];\n\n      const ctxParameter = signature.parameters.find(\n        (p: any) => p.name === 'ctx',\n      );\n\n      setGroups(\n        buildCtx(\n          manifest,\n          findChildrenById(manifest, ctxParameter.type.id),\n        ) as any[],\n      );\n    };\n\n    runner();\n  }, [setGroups]);\n\n  const handleCopy = (text: string) => {\n    copyTextToClipboard(text);\n    (ctx as any).notice('Copied to clipboard!');\n  };\n\n  const handleRun = (example: string) => {\n    Function(\n      `\n        \"use strict\";\n        return(\n          async function(ctx) {\n            try {\n              ${example}\n            } catch(e) {\n              console.error(e);\n              await ctx.alert('Execution failed! See console for errors!');\n            }\n          }\n        )\n      `,\n    )()(ctx);\n  };\n\n  return (\n    <div className={s.inspector}>\n      {groups?.map((group) => {\n        const name = group.name\n          .replace('AdditionalMethods', 'Methods')\n          .replace('AdditionalProperties', 'Properties')\n          .replace('Methods', ' methods')\n          .replace('Properties', ' properties')\n          .replace('Utilities', ' utilities');\n\n        return (\n          <ExpandablePane label={`${name}`} key={name}>\n            <div className={s.groupDescription}>{group.description}</div>\n            <div className={s.propertyGroup}>\n              {(group.properties || []).map((item: any) => (\n                <div key={item.name} className={s.propertyOrMethod}>\n                  <div className={s.propertyOrMethodBody}>\n                    <a\n                      className={s.propertyOrMethodName}\n                      href={`${baseUrl}#L${item.lineNumber}`}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      {item.name}\n                      {item.type === 'function' ? '()' : ''}\n                    </a>\n\n                    <div>{item.description}</div>\n                  </div>\n                  {item.type === 'property' && (\n                    <div className={s.propertyOrMethodExample}>\n                      <pre>\n                        {JSON.stringify((ctx as any)[item.name], null, 2)}\n                      </pre>\n                      <div className={s.propertyOrMethodExampleActions}>\n                        <Button\n                          type=\"button\"\n                          buttonSize=\"xxs\"\n                          onClick={handleCopy.bind(\n                            null,\n                            JSON.stringify((ctx as any)[item.name], null, 2),\n                          )}\n                        >\n                          Copy value\n                        </Button>\n                      </div>\n                    </div>\n                  )}\n                  {item.example && (\n                    <div className={s.propertyOrMethodExample}>\n                      <pre>{item.example}</pre>\n                      <div className={s.propertyOrMethodExampleActions}>\n                        <Button\n                          type=\"button\"\n                          buttonSize=\"xxs\"\n                          buttonType=\"primary\"\n                          onClick={handleRun.bind(null, item.example)}\n                        >\n                          Run example\n                        </Button>\n                        <Button\n                          type=\"button\"\n                          buttonSize=\"xxs\"\n                          onClick={handleCopy.bind(null, item.example)}\n                        >\n                          Copy example\n                        </Button>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </ExpandablePane>\n        );\n      })}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}