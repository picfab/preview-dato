{"ast":null,"code":"var _jsxFileName = \"/Users/fabienpicard/Projects/astro-website/apps/datocms-plugin-preview-button/src/index.tsx\";\nimport React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { connect } from \"datocms-plugin-sdk\";\nimport \"datocms-react-ui/styles.css\";\nimport ConfigScreen from \"./entrypoints/ConfigScreen\";\nimport { render } from \"./utils/render\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst container = document.getElementById(\"root\");\nconnect({\n  renderConfigScreen(ctx) {\n    return render(/*#__PURE__*/_jsxDEV(ConfigScreen, {\n      ctx: ctx\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 19\n    }, this));\n  },\n  itemFormSidebarPanels(model, ctx) {\n    return [{\n      id: \"goToWebsite\",\n      label: \"Go to website\",\n      startOpen: true\n    }];\n  },\n  renderItemFormSidebarPanel(sidebarPanelId, ctx) {\n    ctx.startAutoResizer();\n    // const prodUri = findProductionUri(\n    //   ctx.locale,\n    //   ctx.itemType.attributes.api_key,\n    //   ctx.item?.attributes?.slug?.[ctx.locale] as string,\n    // );\n    if (container\n    // && prodUri\n    ) {\n      var _ctx$item, _ctx$itemType, _ctx$itemType$attribu;\n      const root = createRoot(container);\n      root.render(/*#__PURE__*/_jsxDEV(React.StrictMode, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                flexDirection: \"column\",\n                width: \"100%\",\n                minHeight: \"200px\",\n                backgroundImage: \"linear-gradient(180deg, #ebf4ff, #fff)\"\n              },\n              children: [ctx.itemType.attributes.api_key, /*#__PURE__*/_jsxDEV(\"pre\", {\n                children: JSON.stringify(ctx.item, null, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `http://localhost:4322/preview/?id=${ctx === null || ctx === void 0 ? void 0 : (_ctx$item = ctx.item) === null || _ctx$item === void 0 ? void 0 : _ctx$item.id}&locale=${ctx.locale}&type=${(_ctx$itemType = ctx.itemType) === null || _ctx$itemType === void 0 ? void 0 : (_ctx$itemType$attribu = _ctx$itemType.attributes) === null || _ctx$itemType$attribu === void 0 ? void 0 : _ctx$itemType$attribu.api_key}`,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                style: {\n                  display: \"block\",\n                  paddingBottom: \"12px\",\n                  paddingTop: \"12px\",\n                  paddingLeft: \"16px\",\n                  paddingRight: \"16px\",\n                  backgroundColor: \"#0F6FDE\",\n                  color: \"white\",\n                  minHeight: \"48px\",\n                  fontWeight: 500,\n                  fontSize: \"16px\",\n                  fontFamily: \"sans-serif\",\n                  borderRadius: \"12px\",\n                  textDecoration: \"none\",\n                  transition: \"box-shadow 0.5s\",\n                  boxSizing: \"border-box\"\n                },\n                onMouseEnter: e => {\n                  e.target.style.boxShadow = \"0px 4px 12px rgba(0, 0, 0, 0.2)\";\n                  e.target.style.backgroundColor = \"#0964cd\";\n                },\n                onMouseLeave: e => {\n                  e.target.style.boxShadow = \"none\";\n                  e.target.style.backgroundColor = \"#0F6FDE\";\n                },\n                children: \"Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this));\n    }\n  }\n});","map":{"version":3,"names":["React","createRoot","connect","ConfigScreen","render","jsxDEV","_jsxDEV","container","document","getElementById","renderConfigScreen","ctx","fileName","_jsxFileName","lineNumber","columnNumber","itemFormSidebarPanels","model","id","label","startOpen","renderItemFormSidebarPanel","sidebarPanelId","startAutoResizer","_ctx$item","_ctx$itemType","_ctx$itemType$attribu","root","StrictMode","children","className","style","display","justifyContent","alignItems","flexDirection","width","minHeight","backgroundImage","itemType","attributes","api_key","JSON","stringify","item","href","locale","target","rel","paddingBottom","paddingTop","paddingLeft","paddingRight","backgroundColor","color","fontWeight","fontSize","fontFamily","borderRadius","textDecoration","transition","boxSizing","onMouseEnter","e","boxShadow","onMouseLeave"],"sources":["/Users/fabienpicard/Projects/astro-website/apps/datocms-plugin-preview-button/src/index.tsx"],"sourcesContent":["import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport {\n  connect,\n  IntentCtx,\n  RenderItemFormSidebarPanelCtx,\n  ItemType,\n} from \"datocms-plugin-sdk\";\nimport \"datocms-react-ui/styles.css\";\nimport ConfigScreen from \"./entrypoints/ConfigScreen\";\nimport { render } from \"./utils/render\";\nimport { findProductionUri } from \"./utils/findProductionUrl\";\n\nconst container = document.getElementById(\"root\");\n\nconnect({\n  renderConfigScreen(ctx) {\n    return render(<ConfigScreen ctx={ctx} />);\n  },\n  itemFormSidebarPanels(model: ItemType, ctx: IntentCtx) {\n    return [\n      {\n        id: \"goToWebsite\",\n        label: \"Go to website\",\n        startOpen: true,\n      },\n    ];\n  },\n  renderItemFormSidebarPanel(\n    sidebarPanelId,\n    ctx: RenderItemFormSidebarPanelCtx,\n  ) {\n    ctx.startAutoResizer();\n    // const prodUri = findProductionUri(\n    //   ctx.locale,\n    //   ctx.itemType.attributes.api_key,\n    //   ctx.item?.attributes?.slug?.[ctx.locale] as string,\n    // );\n    if (container\n      // && prodUri\n    ) {\n      const root = createRoot(container);\n      root.render(\n        <React.StrictMode>\n          <div>\n            <div className=\"container\">\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  flexDirection: \"column\",\n                  width: \"100%\",\n                  minHeight: \"200px\",\n                  backgroundImage: \"linear-gradient(180deg, #ebf4ff, #fff)\",\n                }}\n              >\n                {ctx.itemType.attributes.api_key}\n                <pre>{JSON.stringify(ctx.item, null, 2)}</pre>\n                {/* <pre>{prodUri.toString()}</pre> */}\n                {/* <a\n                  href={`https://payfit.com/${prodUri}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  style={{\n                    display: \"block\",\n                    paddingBottom: \"12px\",\n                    paddingTop: \"12px\",\n                    paddingLeft: \"16px\",\n                    paddingRight: \"16px\",\n                    backgroundColor: \"#0F6FDE\",\n                    color: \"white\",\n                    minHeight: \"48px\",\n                    fontWeight: 500,\n                    fontSize: \"16px\",\n                    fontFamily: \"sans-serif\",\n                    borderRadius: \"12px\",\n                    textDecoration: \"none\",\n                    transition: \"box-shadow 0.5s\",\n                    boxSizing: \"border-box\",\n                  }}\n                  onMouseEnter={(e) => {\n                    (e.target as HTMLElement).style.boxShadow =\n                      \"0px 4px 12px rgba(0, 0, 0, 0.2)\";\n                    (e.target as HTMLElement).style.backgroundColor = \"#0964cd\";\n                  }}\n                  onMouseLeave={(e) => {\n                    (e.target as HTMLElement).style.boxShadow = \"none\";\n                    (e.target as HTMLElement).style.backgroundColor = \"#0F6FDE\";\n                  }}\n                >\n                  Production View\n                </a> */}\n                <a\n                  href={`http://localhost:4322/preview/?id=${ctx?.item?.id}&locale=${ctx.locale}&type=${ctx.itemType?.attributes?.api_key}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  style={{\n                    display: \"block\",\n                    paddingBottom: \"12px\",\n                    paddingTop: \"12px\",\n                    paddingLeft: \"16px\",\n                    paddingRight: \"16px\",\n                    backgroundColor: \"#0F6FDE\",\n                    color: \"white\",\n                    minHeight: \"48px\",\n                    fontWeight: 500,\n                    fontSize: \"16px\",\n                    fontFamily: \"sans-serif\",\n                    borderRadius: \"12px\",\n                    textDecoration: \"none\",\n                    transition: \"box-shadow 0.5s\",\n                    boxSizing: \"border-box\",\n                  }}\n                  onMouseEnter={(e) => {\n                    (e.target as HTMLElement).style.boxShadow =\n                      \"0px 4px 12px rgba(0, 0, 0, 0.2)\";\n                    (e.target as HTMLElement).style.backgroundColor = \"#0964cd\";\n                  }}\n                  onMouseLeave={(e) => {\n                    (e.target as HTMLElement).style.boxShadow = \"none\";\n                    (e.target as HTMLElement).style.backgroundColor = \"#0F6FDE\";\n                  }}\n                >\n                  Preview\n                </a>\n              </div>\n            </div>\n          </div>\n        </React.StrictMode>,\n      );\n    }\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}