{"ast":null,"code":"import React from'react';import{createRoot}from'react-dom/client';import{connect}from'datocms-plugin-sdk';import'datocms-react-ui/styles.css';import ConfigScreen from'./entrypoints/ConfigScreen';import{render}from'./utils/render';import{jsx as _jsx}from\"react/jsx-runtime\";const container=document.getElementById('root');connect({renderConfigScreen(ctx){return render(/*#__PURE__*/_jsx(ConfigScreen,{ctx:ctx}));},itemFormSidebarPanels(model,ctx){return[{id:'goToWebsite',label:'Go to website',startOpen:true}];},renderItemFormSidebarPanel(sidebarPanelId,ctx){if(container){var _ctx$item,_ctx$itemType,_ctx$itemType$attribu;const root=createRoot(container);root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:4322/preview/?id=\".concat(ctx===null||ctx===void 0?void 0:(_ctx$item=ctx.item)===null||_ctx$item===void 0?void 0:_ctx$item.id,\"&locale=\").concat(ctx.locale,\"&type=\").concat((_ctx$itemType=ctx.itemType)===null||_ctx$itemType===void 0?void 0:(_ctx$itemType$attribu=_ctx$itemType.attributes)===null||_ctx$itemType$attribu===void 0?void 0:_ctx$itemType$attribu.api_key),target:\"_blank\",rel:\"noreferrer\",children:\"Preview\"})})}));}}});","map":{"version":3,"names":["React","createRoot","connect","ConfigScreen","render","jsx","_jsx","container","document","getElementById","renderConfigScreen","ctx","itemFormSidebarPanels","model","id","label","startOpen","renderItemFormSidebarPanel","sidebarPanelId","_ctx$item","_ctx$itemType","_ctx$itemType$attribu","root","StrictMode","children","href","concat","item","locale","itemType","attributes","api_key","target","rel"],"sources":["/Users/fabienpicard/Projects/astro-website/apps/datocms-plugin-preview-button/src/index.tsx"],"sourcesContent":["import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport {\n  connect,\n  IntentCtx,\n  RenderItemFormSidebarPanelCtx,\n  ItemType,\n} from 'datocms-plugin-sdk';\nimport 'datocms-react-ui/styles.css';\nimport ConfigScreen from './entrypoints/ConfigScreen';\nimport { render } from './utils/render';\n\nconst container = document.getElementById('root');\n\nconnect({\n  renderConfigScreen(ctx) {\n    return render(<ConfigScreen ctx={ctx} />);\n  },\n  itemFormSidebarPanels(model: ItemType, ctx: IntentCtx) {\n    return [\n      {\n        id: 'goToWebsite',\n        label: 'Go to website',\n        startOpen: true,\n      },\n    ];\n  },\n  renderItemFormSidebarPanel(\n    sidebarPanelId,\n    ctx: RenderItemFormSidebarPanelCtx\n  ) {\n    if (container) {\n      const root = createRoot(container);\n      root.render(\n        <React.StrictMode>\n          <div>\n            <a\n              href={`http://localhost:4322/preview/?id=${ctx?.item?.id}&locale=${ctx.locale}&type=${ctx.itemType?.attributes?.api_key}`}\n              target='_blank'\n              rel='noreferrer'\n            >\n              Preview\n            </a>\n          </div>\n        </React.StrictMode>\n      );\n    }\n  },\n});\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,kBAAkB,CAE7C,OACEC,OAAO,KAIF,oBAAoB,CAC3B,MAAO,6BAA6B,CACpC,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,OAASC,MAAM,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExC,KAAM,CAAAC,SAAS,CAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAEjDP,OAAO,CAAC,CACNQ,kBAAkBA,CAACC,GAAG,CAAE,CACtB,MAAO,CAAAP,MAAM,cAACE,IAAA,CAACH,YAAY,EAACQ,GAAG,CAAEA,GAAI,CAAE,CAAC,CAAC,CAC3C,CAAC,CACDC,qBAAqBA,CAACC,KAAe,CAAEF,GAAc,CAAE,CACrD,MAAO,CACL,CACEG,EAAE,CAAE,aAAa,CACjBC,KAAK,CAAE,eAAe,CACtBC,SAAS,CAAE,IACb,CAAC,CACF,CACH,CAAC,CACDC,0BAA0BA,CACxBC,cAAc,CACdP,GAAkC,CAClC,CACA,GAAIJ,SAAS,CAAE,KAAAY,SAAA,CAAAC,aAAA,CAAAC,qBAAA,CACb,KAAM,CAAAC,IAAI,CAAGrB,UAAU,CAACM,SAAS,CAAC,CAClCe,IAAI,CAAClB,MAAM,cACTE,IAAA,CAACN,KAAK,CAACuB,UAAU,EAAAC,QAAA,cACflB,IAAA,QAAAkB,QAAA,cACElB,IAAA,MACEmB,IAAI,sCAAAC,MAAA,CAAuCf,GAAG,SAAHA,GAAG,kBAAAQ,SAAA,CAAHR,GAAG,CAAEgB,IAAI,UAAAR,SAAA,iBAATA,SAAA,CAAWL,EAAE,aAAAY,MAAA,CAAWf,GAAG,CAACiB,MAAM,WAAAF,MAAA,EAAAN,aAAA,CAAST,GAAG,CAACkB,QAAQ,UAAAT,aAAA,kBAAAC,qBAAA,CAAZD,aAAA,CAAcU,UAAU,UAAAT,qBAAA,iBAAxBA,qBAAA,CAA0BU,OAAO,CAAG,CAC1HC,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,YAAY,CAAAT,QAAA,CACjB,SAED,CAAG,CAAC,CACD,CAAC,CACU,CACpB,CAAC,CACH,CACF,CACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}