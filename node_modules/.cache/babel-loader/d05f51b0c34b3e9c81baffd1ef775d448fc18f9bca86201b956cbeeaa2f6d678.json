{"ast":null,"code":"var _jsxFileName = \"/Users/fabienpicard/Projects/astro-website/apps/datocms-plugin-preview-button/src/index.tsx\";\nimport React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { connect } from \"datocms-plugin-sdk\";\nimport \"datocms-react-ui/styles.css\";\nimport ConfigScreen from \"./entrypoints/ConfigScreen\";\nimport { render } from \"./utils/render\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst container = document.getElementById(\"root\");\nconnect({\n  renderConfigScreen(ctx) {\n    return render(/*#__PURE__*/_jsxDEV(ConfigScreen, {\n      ctx: ctx\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 19\n    }, this));\n  },\n  itemFormSidebarPanels(model, ctx) {\n    return [{\n      id: \"goToWebsite\",\n      label: \"Go to website\",\n      startOpen: true\n    }];\n  },\n  renderItemFormSidebarPanel(sidebarPanelId, ctx) {\n    if (container) {\n      var _ctx$item, _ctx$itemType, _ctx$itemType$attribu;\n      const root = createRoot(container);\n      root.render(/*#__PURE__*/_jsxDEV(React.StrictMode, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"pre\", {\n            children: JSON.stringify(ctx === null || ctx === void 0 ? void 0 : ctx.itemType, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            children: JSON.stringify(ctx === null || ctx === void 0 ? void 0 : ctx.item, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `http://localhost:4322/preview/?id=${ctx === null || ctx === void 0 ? void 0 : (_ctx$item = ctx.item) === null || _ctx$item === void 0 ? void 0 : _ctx$item.id}&locale=${ctx.locale}&type=${(_ctx$itemType = ctx.itemType) === null || _ctx$itemType === void 0 ? void 0 : (_ctx$itemType$attribu = _ctx$itemType.attributes) === null || _ctx$itemType$attribu === void 0 ? void 0 : _ctx$itemType$attribu.api_key}`,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            children: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this));\n    }\n  }\n});","map":{"version":3,"names":["React","createRoot","connect","ConfigScreen","render","jsxDEV","_jsxDEV","container","document","getElementById","renderConfigScreen","ctx","fileName","_jsxFileName","lineNumber","columnNumber","itemFormSidebarPanels","model","id","label","startOpen","renderItemFormSidebarPanel","sidebarPanelId","_ctx$item","_ctx$itemType","_ctx$itemType$attribu","root","StrictMode","children","JSON","stringify","itemType","item","href","locale","attributes","api_key","target","rel"],"sources":["/Users/fabienpicard/Projects/astro-website/apps/datocms-plugin-preview-button/src/index.tsx"],"sourcesContent":["import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport {\n  connect,\n  IntentCtx,\n  RenderItemFormSidebarPanelCtx,\n  ItemType,\n} from \"datocms-plugin-sdk\";\nimport \"datocms-react-ui/styles.css\";\nimport ConfigScreen from \"./entrypoints/ConfigScreen\";\nimport { render } from \"./utils/render\";\n\nconst container = document.getElementById(\"root\");\n\nconnect({\n  renderConfigScreen(ctx) {\n    return render(<ConfigScreen ctx={ctx} />);\n  },\n  itemFormSidebarPanels(model: ItemType, ctx: IntentCtx) {\n    return [\n      {\n        id: \"goToWebsite\",\n        label: \"Go to website\",\n        startOpen: true,\n      },\n    ];\n  },\n  renderItemFormSidebarPanel(\n    sidebarPanelId,\n    ctx: RenderItemFormSidebarPanelCtx,\n  ) {\n    if (container) {\n      const root = createRoot(container);\n      root.render(\n        <React.StrictMode>\n          <div>\n            <pre>{JSON.stringify(ctx?.itemType, null, 2)}</pre>\n            <br/>\n            <pre>{JSON.stringify(ctx?.item, null, 2)}</pre>\n            <a\n              href={`http://localhost:4322/preview/?id=${ctx?.item?.id}&locale=${ctx.locale}&type=${ctx.itemType?.attributes?.api_key}`}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Preview\n            </a>\n          </div>\n        </React.StrictMode>,\n      );\n    }\n  },\n});\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,kBAAkB;AAE7C,SACEC,OAAO,QAIF,oBAAoB;AAC3B,OAAO,6BAA6B;AACpC,OAAOC,YAAY,MAAM,4BAA4B;AACrD,SAASC,MAAM,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;AAEjDP,OAAO,CAAC;EACNQ,kBAAkBA,CAACC,GAAG,EAAE;IACtB,OAAOP,MAAM,cAACE,OAAA,CAACH,YAAY;MAACQ,GAAG,EAAEA;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,CAAC;EAC3C,CAAC;EACDC,qBAAqBA,CAACC,KAAe,EAAEN,GAAc,EAAE;IACrD,OAAO,CACL;MACEO,EAAE,EAAE,aAAa;MACjBC,KAAK,EAAE,eAAe;MACtBC,SAAS,EAAE;IACb,CAAC,CACF;EACH,CAAC;EACDC,0BAA0BA,CACxBC,cAAc,EACdX,GAAkC,EAClC;IACA,IAAIJ,SAAS,EAAE;MAAA,IAAAgB,SAAA,EAAAC,aAAA,EAAAC,qBAAA;MACb,MAAMC,IAAI,GAAGzB,UAAU,CAACM,SAAS,CAAC;MAClCmB,IAAI,CAACtB,MAAM,cACTE,OAAA,CAACN,KAAK,CAAC2B,UAAU;QAAAC,QAAA,eACftB,OAAA;UAAAsB,QAAA,gBACEtB,OAAA;YAAAsB,QAAA,EAAMC,IAAI,CAACC,SAAS,CAACnB,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEoB,QAAQ,EAAE,IAAI,EAAE,CAAC;UAAC;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnDT,OAAA;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLT,OAAA;YAAAsB,QAAA,EAAMC,IAAI,CAACC,SAAS,CAACnB,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEqB,IAAI,EAAE,IAAI,EAAE,CAAC;UAAC;YAAApB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC/CT,OAAA;YACE2B,IAAI,EAAE,qCAAqCtB,GAAG,aAAHA,GAAG,wBAAAY,SAAA,GAAHZ,GAAG,CAAEqB,IAAI,cAAAT,SAAA,uBAATA,SAAA,CAAWL,EAAE,WAAWP,GAAG,CAACuB,MAAM,UAAAV,aAAA,GAASb,GAAG,CAACoB,QAAQ,cAAAP,aAAA,wBAAAC,qBAAA,GAAZD,aAAA,CAAcW,UAAU,cAAAV,qBAAA,uBAAxBA,qBAAA,CAA0BW,OAAO,EAAG;YAC1HC,MAAM,EAAC,QAAQ;YACfC,GAAG,EAAC,YAAY;YAAAV,QAAA,EACjB;UAED;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACU,CACpB,CAAC;IACH;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}